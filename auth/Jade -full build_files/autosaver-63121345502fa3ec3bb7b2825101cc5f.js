(function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};null==window.Coderwall&&(window.Coderwall={}),null==(t=window.Coderwall).Autosaver&&(t.Autosaver={}),window.Coderwall.Autosaver.TextField=function(){function t(t){var o,i;null==t&&(t={}),this.saveTimeoutHandler=e(this.saveTimeoutHandler,this),this.supportsStorage()&&(this.autosave_field=$("#"+t.field_id),this.save_delay=null!=(o=t.save_delay)?o:3e3,this.storage_key=null!=(i=t.storage_key)?i:"coderwall:autosaver:textfield:"+this.autosave_field,this.key_append=t.storage_key_append,null!=this.key_append&&(this.storage_key=this.storage_key+":"+this.key_append),this.initialize())}return t.prototype.initialize=function(){this.populateOnInit(),this.setupHandlers()},t.prototype.populateOnInit=function(){var t;this.fieldIsEmpty()?(t=this.getStorage(),null!=t&&this.autosave_field.val(t)):this.store(this.fieldValue())},t.prototype.setupHandlers=function(){this.autosave_field.on("keyup",function(t){return function(){return null==t.save_timeout?t.save_timeout=setTimeout(t.saveTimeoutHandler,t.save_delay):void 0}}(this))},t.prototype.supportsStorage=function(){return null!=window.localStorage},t.prototype.store=function(t){localStorage.setItem(this.storageKey(),JSON.stringify(t))},t.prototype.getStorage=function(){return JSON.parse(localStorage.getItem(this.storageKey()))},t.prototype.storageKey=function(){return this.storage_key},t.prototype.saveTimeoutHandler=function(){return this.store(this.fieldValue()),delete this.save_timeout},t.prototype.clear=function(){return clearTimeout(this.save_timeout),delete localStorage[this.storageKey()]},t.prototype.fieldIsEmpty=function(){return""===this.fieldValue()},t.prototype.fieldValue=function(){return this.autosave_field.val()},t}()}).call(this);