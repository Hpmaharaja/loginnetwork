function track_click(t,c){properties=$(t).attr("data-properties"),(void 0==properties||null==properties)&&(properties={}),c.preventDefault(),c.stopImmediatePropagation(),$(t).off("click.tracking"),logUsage($(t).attr("data-action"),$(t).attr("data-from"),properties,t),setTimeout(function(){doActualClick(t)},300)}function doActualClick(t){void 0!=t&&($(t).off("click.tracking"),$(t)[0].click(),$(t).on("click.tracking",function(t){track_click(this,t)}))}function logUsage(t,c,i){var e="undefined"==typeof _gaq,o=t.replace("_"," ");e?console.log("Record Event: "+t+" from "+c):_gaq.push(["_trackEvent","actions",t]),/^view (.+)/.test(o)&&$.isEmptyObject(i)&&(i={what:o.match(/^view (.+)/)[1]},o="view"),i=$.extend(null==c?{}:{from:c},i),mixpanel.track(o,i,function(t){console.log((1==t?"tracked":"failed")+":"+o)})}$(function(){$(".track").on("click.tracking",function(t){track_click(this,t)})});